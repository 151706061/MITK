INCLUDE(files.cmake)

ADD_LIBRARY(PocoXML SHARED ${CPP_FILES})

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/include ${CMAKE_CURRENT_SOURCE_DIR}/../Foundation/include)

TARGET_LINK_LIBRARIES(PocoXML PocoFoundation debug PocoFoundationd)

SET(POCO_XML_COMPILE_FLAGS "-DXML_NS -DXML_DTD -DHAVE_EXPAT_CONFIG_H")
IF(UNIX)
  SET(POCO_XML_COMPILE_FLAGS "${POCO_XML_COMPILE_FLAGS} ${POCO_UNIX_COMPILE_FLAGS}")
ENDIF(UNIX)

SET_TARGET_PROPERTIES(PocoXML PROPERTIES 
 DEFINE_SYMBOL XML_EXPORTS
 COMPILE_FLAGS "${POCO_XML_COMPILE_FLAGS}"
)

IF(Poco_BUILD_TESTSUITES)
  ADD_SUBDIRECTORY(testsuite)
ENDIF(Poco_BUILD_TESTSUITES)