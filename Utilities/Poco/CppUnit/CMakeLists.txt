INCLUDE(files.cmake)

ADD_LIBRARY(PocoCppUnit SHARED ${CPP_FILES})
TARGET_LINK_LIBRARIES(PocoCppUnit pthread dl rt)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/include)

SET(POCO_CPPUNIT_COMPILE_FLAGS "")
IF(UNIX)
  SET(POCO_CPPUNIT_COMPILE_FLAGS "${POCO_CPPUNIT_COMPILE_FLAGS} ${POCO_UNIX_COMPILE_FLAGS}")
ENDIF(UNIX)

SET_TARGET_PROPERTIES(PocoCppUnit PROPERTIES COMPILE_FLAGS "${POCO_CPPUNIT_COMPILE_FLAGS}")