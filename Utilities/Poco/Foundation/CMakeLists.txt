INCLUDE(files.cmake)

ADD_LIBRARY(PocoFoundation SHARED ${CPP_FILES})
TARGET_LINK_LIBRARIES(PocoFoundation pthread dl rt)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/include)

SET(POCO_FOUNDATION_COMPILE_FLAGS "")
IF(UNIX)
  SET(POCO_FOUNDATION_COMPILE_FLAGS "${POCO_FOUNDATION_COMPILE_FLAGS} ${POCO_UNIX_COMPILE_FLAGS}")
ENDIF(UNIX)

SET_TARGET_PROPERTIES(PocoFoundation PROPERTIES COMPILE_FLAGS "${POCO_FOUNDATION_COMPILE_FLAGS}")

IF(Poco_BUILD_TESTSUITES)
  ADD_SUBDIRECTORY(testsuite)
ENDIF(Poco_BUILD_TESTSUITES)