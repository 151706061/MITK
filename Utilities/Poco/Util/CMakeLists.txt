INCLUDE(files.cmake)

ADD_LIBRARY(PocoUtil SHARED ${CPP_FILES})

INCLUDE_DIRECTORIES(
 ${CMAKE_CURRENT_SOURCE_DIR}/include 
 ${CMAKE_CURRENT_SOURCE_DIR}/../Foundation/include
 ${CMAKE_CURRENT_SOURCE_DIR}/../XML/include
)

TARGET_LINK_LIBRARIES(PocoUtil PocoFoundation debug PocoFoundationd PocoXML debug PocoXMLd)

SET(POCO_UTIL_COMPILE_FLAGS "")
IF(UNIX)
  SET(POCO_UTIL_COMPILE_FLAGS "${POCO_UTIL_COMPILE_FLAGS} ${POCO_UNIX_COMPILE_FLAGS}")
ENDIF(UNIX)

SET_TARGET_PROPERTIES(PocoUtil PROPERTIES 
 DEFINE_SYMBOL Util_EXPORTS
 COMPILE_FLAGS "${POCO_UTIL_COMPILE_FLAGS}"
)

IF(Poco_BUILD_TESTSUITES)
  ADD_SUBDIRECTORY(testsuite)
ENDIF(Poco_BUILD_TESTSUITES)