#  to use MITK for a target "my_target":
#  you have to make sure, that the variable IP_ROOT is defined somewhere in your cmake project
#  INCLUDE( ${IP_ROOT}/Build/MITK/UseMITK.cmake ) # include this file here
#  ADD_EXECUTABLE(my_target ...)                  # add the target
#  TARGET_LINK_LIBRARIES(my_target ${MITK_LIBRARIES}) # for executables using MITK
#   or
#  TARGET_LINK_LIBRARIES(my_target ${MITK_PLUGIN_LIBRARIES}) # for CHILI PlugIns using MITK

IF(NOT USEMITKDONE)
  MESSAGE(STATUS "include MITK via UseMITK")
  # TODO: remove IP_ROOT legacy setting
  SET(IP_ROOT "@mitk-all_SOURCE_DIR@")
  IF(BUILDNAME MATCHES "Win32-vs60")
    SET(MSVC60 true)
  #  MESSAGE(FATAL_ERROR "Sorry, MITK currently does not built on VC++ 6.0. We will fix this soon (written 5-3-05).")
  ENDIF(BUILDNAME MATCHES "Win32-vs60")

  #--------------------------------------------------------------------------
  # Load standard macros
  INCLUDE("@mitk-all_SOURCE_DIR@/Build/MITK/mitkCMakeMacros.cmake")

  #--------------------------------------------------------------------------
  # include libraries and header include directories
  INCLUDE("@mitk-all_SOURCE_DIR@/Build/MITK/mitkIncludes.cmake")

  INCLUDE("@mitk-all_BINARY_DIR@/Build/MITK/MITKConfig.cmake")
  LINK_DIRECTORIES("@MITK_LIBRARY_DIRS@")

  SET(MITK_LIBRARIES mitk)
  SET(MITKCHILIPLUGIN_LIBRARIES mitkChiliPlugin)

  SET(USEMITKDONE true)
ENDIF(NOT USEMITKDONE)
