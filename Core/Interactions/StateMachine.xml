<?xml version="1.0" encoding="utf-8" ?>
<mitkInteraktionStates xmlns="http://tempuri.org/StateMachine.xsd" STYLE="Powerpoint">
	<stateMachine NAME="global">
		<state NAME="neutral" ID="1" START_STATE="TRUE">
			<transition NAME="new object" NEXT_STATE_ID="20" EVENT_ID="10" SIDE_EFFECT_ID="5" />
			<transition NAME="object search" NEXT_STATE_ID="2" EVENT_ID="1" SIDE_EFFECT_ID="50" />
		</state>
		<state NAME="new object" ID="20">
			<transition NAME="finished new object " NEXT_STATE_ID="3" EVENT_ID="202" SIDE_EFFECT_ID="40" />
		</state>
		<state NAME="object search" ID="2">
			<transition NAME="nothing picked" NEXT_STATE_ID="1" EVENT_ID="203" SIDE_EFFECT_ID="72" />
			<transition NAME="object picked" NEXT_STATE_ID="3" EVENT_ID="204" SIDE_EFFECT_ID="60" />
			<transition NAME="same object picked" NEXT_STATE_ID="21" EVENT_ID="205" SIDE_EFFECT_ID="6" />
		</state>
		<state NAME="object selected" ID="3">
			<transition NAME="object search" NEXT_STATE_ID="2" EVENT_ID="1" SIDE_EFFECT_ID="50" />
			<transition NAME="object search add" NEXT_STATE_ID="4" EVENT_ID="3" SIDE_EFFECT_ID="52" />
		</state>
		<state NAME="edit object" ID="21">
			<transition NAME="finished editing object" NEXT_STATE_ID="3" EVENT_ID="202" SIDE_EFFECT_ID="40" />
		</state>
		<state NAME="next object search" ID="4">
			<transition NAME="No New and only one selected" NEXT_STATE_ID="3" EVENT_ID="206" SIDE_EFFECT_ID="0" />
			<transition NAME="No New but &gt;1 selected" NEXT_STATE_ID="6" EVENT_ID="207" SIDE_EFFECT_ID="0" />
			<transition NAME="same-&gt;Check" NEXT_STATE_ID="5" EVENT_ID="205" SIDE_EFFECT_ID="31" />
			<transition NAME="New Object Picked" NEXT_STATE_ID="6" EVENT_ID="200" SIDE_EFFECT_ID="61" />
		</state>
		<state NAME="last check" ID="5">
			<transition NAME="neutral" NEXT_STATE_ID="1" EVENT_ID="208" SIDE_EFFECT_ID="72" />
			<transition NAME="group selected" NEXT_STATE_ID="6" EVENT_ID="209" SIDE_EFFECT_ID="70" />
		</state>
		<state NAME="group selected" ID="6">
			<transition NAME="edit group" NEXT_STATE_ID="22" EVENT_ID="11" SIDE_EFFECT_ID="7" />
			<transition NAME="group search" NEXT_STATE_ID="7" EVENT_ID="1" SIDE_EFFECT_ID="51" />
		</state>
		<state NAME="group search" ID="7">
			<transition NAME="neutral" NEXT_STATE_ID="1" EVENT_ID="203" SIDE_EFFECT_ID="72" />
			<transition NAME="edit group" NEXT_STATE_ID="22" EVENT_ID="204" SIDE_EFFECT_ID="7" />
		</state>
		<state NAME="edit group" ID="22">
			<transition NAME="finished editing group" NEXT_STATE_ID="6" EVENT_ID="202" SIDE_EFFECT_ID="41" />
		</state>
	</stateMachine>
	<stateMachine NAME="polygon">
		<state NAME="new object" ID="1" START_STATE="TRUE">
			<transition NAME="to draw object" NEXT_STATE_ID="2" EVENT_ID="1" SIDE_EFFECT_ID="10" />
		</state>
		<state NAME="draw object" ID="2">
			<transition NAME="snapping" NEXT_STATE_ID="2" EVENT_ID="3" SIDE_EFFECT_ID="20" />
			<transition NAME="to point check" NEXT_STATE_ID="3" EVENT_ID="1" SIDE_EFFECT_ID="30" />
		</state>
		<state NAME="point check" ID="3">
			<transition NAME="new point" NEXT_STATE_ID="2" EVENT_ID="200" SIDE_EFFECT_ID="10" />
			<transition NAME="old point" NEXT_STATE_ID="1" EVENT_ID="201" SIDE_EFFECT_ID="40" />
		</state>
	</stateMachine>
	<events STYLE="Powerpoint">
		<!-- left MouseButton -->
		<event NAME="left MouseBN" ID="1" TYPE="2" BUTTON="0x0001" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!-- <event NAME="DrawObject"   ID="2" TYPE="MouseButtonPress" BUTTON="LeftButton" BUTTONSTATE="NoButton" KEY="Key_unknown" />  -->
		<!-- Shift + left MouseButton -->
		<event NAME="left MouseBN + Shift" ID="3" TYPE="2" BUTTON="0x0000" BUTTONSTATE="0x0008" KEY="0xffff" />
		<!-- <event NAME="Snapping_Adding"  ID="3" TYPE="MouseButtonPress" BUTTON="LeftButton" BUTTONSTATE="ShiftButton" KEY="Key_unknown" />-->
		<!-- Strg + N -->
		<event NAME="Strg + N" ID="10" TYPE="6" BUTTON="0x0000" BUTTONSTATE="0x0010" KEY="0x4e" />
		<!-- <event NAME="NewObject" ID="1" TYPE="KeyPress" BUTTON="NoButton" BUTTONSTATE="ControlButton" KEY="Key_N" /> -->
		<!-- Strg + E -->
		<event NAME="Strg + E" ID="11" TYPE="6" BUTTON="0x0000" BUTTONSTATE="0x0010" KEY="0x45" />
		<!-- <event NAME="Strg + E"  ID="4" TYPE="KeyPress" BUTTON="NoButton" BUTTONSTATE="ControlButton" KEY="Key_E" />-->
		<!-- eigens ausgelÃ¶ste Events-->
		<event NAME="new" ID="200" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--7<event NAME="IsNewPoint"  ID="200" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="old" ID="201" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="IsOldPoint"  ID="201" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="finished" ID="202" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="ready"  ID="202" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="no" ID="203" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="no"  ID="203" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="yes" ID="204" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="yes"  ID="204" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="same" ID="205" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="same"  ID="205" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="no and last Object" ID="206" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="no&LastObject"  ID="206" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="no and not last Object" ID="207" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="no&notLastObject"  ID="207" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="last" ID="208" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="last"  ID="208" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
		<event NAME="not last" ID="209" TYPE="0" BUTTON="0x0000" BUTTONSTATE="0x0000" KEY="0xffff" />
		<!--<event NAME="not last"  ID="209" TYPE="None" BUTTON="NoButton" BUTTONSTATE="NoButton" KEY="Key_none" />-->
	</events>
</mitkInteraktionStates>
<!-- DOKUMENTATION -->
<!--this is StateMachine.xml| includes Information about different StateMachines and Events. Used by EventMapper and StateMachineFactory-->
<!-- Event: ether in Key or in Button, not in both! Key is only checked if the type is a keypressed(/released)-->
<!-- -->
<!-- -->
<!-- <event NAME=""  ID="" TYPE="" BUTTON="" BUTTONSTATE="" KEY="" /> -->
<!-- <transition NAME="" NEXT_STATE_ID="" EVENT_ID="" SIDE_EFFECT_ID="" /> -->
<!-- <state NAME="" ID=""> </state> -->