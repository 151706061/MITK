MESSAGE(STATUS "Including MITKConfig.cmake")

SET(MITK_VERSION_MAJOR "@MITK_VERSION_MAJOR@")
SET(MITK_VERSION_MINOR "@MITK_VERSION_MINOR@")
SET(MITK_VERSION_PATCH "@MITK_VERSION_PATCH@")

SET(MITK_INCLUDE_DIRS "@MITK_INCLUDE_DIRS_CONFIG@")
SET(QMITK_INCLUDE_DIRS "@QMITK_INCLUDE_DIRS_CONFIG@")
SET(ANN_INCLUDE_DIR "@ANN_INCLUDE_DIR@")
SET(IPSEGMENTATION_INCLUDE_DIR "@IPSEGMENTATION_INCLUDE_DIR@")
SET(MITK_LIBRARIES "@MITK_LIBRARIES@")
SET(QMITK_LIBRARIES "@QMITK_LIBRARIES@")
SET(MITK_LINK_DIRECTORIES "@MITK_LINK_DIRECTORIES@")
SET(VECMATH_INCLUDE_DIR "@VECMATH_INCLUDE_DIR@")
SET(IPFUNC_INCLUDE_DIR "@IPFUNC_INCLUDE_DIR@")
SET(UTILITIES_DIR "@UTILITIES_DIR@")
SET(REGISTER_QFUNCTIONALITY_CPP_IN "@REGISTER_QFUNCTIONALITY_CPP_IN@")

SET(MITK_IGT_INCLUDE_DIRS "@MITK_IGT_INCLUDE_DIRS@")

INCLUDE("@MITK_SOURCE_DIR@/CMake/CoreHelpers.cmake")
INCLUDE("@MITK_SOURCE_DIR@/CMake/ToolExtensionHelpers.cmake")
APPLY_VTK_FLAGS()


IF (MITK_USE_OPENCHERRY)

  SET(openCherry_DIR "@MITK_BINARY_DIR@/Utilities/openCherry")

  # There is no PocoConfig.cmake, so we set Poco specific CMake variables
  # here. This way the call to FIND_PACKAGE(Poco) in openCherryConfig.cmake
  # finds the Poco distribution supplied by MITK
  SET(Poco_INCLUDE_DIR
    "@MITK_SOURCE_DIR@/Utilities/Poco"
    CACHE PATH
    "top-level directory containing the poco include directories. E.g /usr/local/include/ or c:\\poco\\include\\poco-1.3.2")

  SET(Poco_LIBRARY_DIR
    "@MITK_BINARY_DIR@/bin"
    CACHE PATH
    "top-level directory containing the poco libraries.")

  INCLUDE("@MITK_SOURCE_DIR@/CMake/MITKPluginHelpers.cmake")
  INCLUDE("@MITK_BINARY_DIR@/Bundles/MITKBundleList.cmake")

  FIND_PACKAGE(openCherry)

  IF(NOT openCherry_FOUND)
    MESSAGE(SEND_ERROR "MITK does not seem to be configured with openCherry support. Set BUILD_OPENCHERRY to ON in your MITK build configuration.")
  ENDIF(NOT openCherry_FOUND)

  SET(MITK_PLUGIN_SOURCE_DIRS "@MITK_SOURCE_DIR@/Bundles")
  SET(MITK_PLUGIN_BINARY_DIRS "@EXECUTABLE_OUTPUT_PATH@/Bundles")

  SET(MITK_LIBRARY_DIRS "@LIBRARY_OUTPUT_PATH@")
  SET(MITK_VTK_LIBRARY_DIRS "@VTK_LIBRARY_DIRS@")
  SET(MITK_ITK_LIBRARY_DIRS "@ITK_LIBRARY_DIRS@")

ENDIF(MITK_USE_OPENCHERRY)