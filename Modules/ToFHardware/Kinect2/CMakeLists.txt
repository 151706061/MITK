OPTION(MITK_USE_TOF_KINECT2 "Enable support for Kinect 2 camera" OFF)

IF(MITK_USE_TOF_KINECT2)
  FIND_LIBRARY(MITK_KINECT2_LIB Kinect20.lib DOC "Kinect 2 access library.")
  FIND_PATH(MITK_KINECT2_INCLUDE_DIR Kinect.h DOC  "Include directory of Kinect 2 camera.")
  SET(MITK_TOF_AVAILABLE_CAMERAS ${MITK_TOF_AVAILABLE_CAMERAS},Microsoft Kinect 2)
  SET(INCLUDE_DIRS_INTERNAL ${INCLUDE_DIRS_INTERNAL} ${MITK_KINECT2_INCLUDE_DIR})
  SET(ADDITIONAL_LIBS ${ADDITIONAL_LIBS} ${MITK_KINECT2_LIB})

MITK_CREATE_MODULE(mitkKinect2Module
  SUBPROJECTS MITK-ToF
  INCLUDE_DIRS ${MITK_BIN_DIR}
  INTERNAL_INCLUDE_DIRS ${INCLUDE_DIRS_INTERNAL}
  DEPENDS mitkToFHardware
  EXPORT_DEFINE MITK_KINECT2MODULE_EXPORT
  ADDITIONAL_LIBS ${ADDITIONAL_LIBS}
  AUTOLOAD_WITH mitkToFHardware
)
Message("Kinect 2 Module generated")
add_subdirectory(Testing)

ENDIF(MITK_USE_TOF_KINECT2)
