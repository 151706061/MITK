
#Begin Kinect hardware
OPTION(MITK_USE_TOF_KINECT "Enable support for Kinect camera" OFF)
# only if Kinect is enabled
IF(MITK_USE_TOF_KINECT)
  FIND_LIBRARY(MITK_KINECT_LIB libOpenNI DOC "Kinect access library.")
  FIND_PATH(MITK_KINECT_INCLUDE_DIR XnCppWrapper.h DOC  "Include directory of Kinect camera.")
  SET(MITK_TOF_AVAILABLE_CAMERAS ${MITK_TOF_AVAILABLE_CAMERAS},Microsoft Kinect)
#TODO Installer specific stuff
#  IF(WIN32)
#   INSTALL(FILES ${MITK_MESA_SDK_DIR}/bin/libMesaSR.dll DESTINATION bin CONFIGURATIONS Release)
#  ENDIf(WIN32)
ENDIF(MITK_USE_TOF_KINECT)
#End Kinect Hardware


IF(MITK_USE_TOF_KINECT)
  SET(INCLUDE_DIRS_INTERNAL ${INCLUDE_DIRS_INTERNAL} ${MITK_KINECT_INCLUDE_DIR})
  SET(ADDITIONAL_LIBS ${ADDITIONAL_LIBS} ${MITK_KINECT_LIB})
ENDIF(MITK_USE_TOF_KINECT)

MITK_CREATE_MODULE(mitkToFHardware
  SUBPROJECTS MITK-ToF
  INCLUDE_DIRS ${MITK_BIN_DIR}
  INTERNAL_INCLUDE_DIRS ${INCLUDE_DIRS_INTERNAL}
  DEPENDS Mitk MitkExt mitkOpenCVVideoSupport MitkIGT LegacyAdaptors
  EXPORT_DEFINE MITK_TOFHARDWARE_EXPORT
  ADDITIONAL_LIBS ${ADDITIONAL_LIBS}
)

add_subdirectory(Testing)
