SET(LIBPOSTFIX "")

SET(MODULE_INCLUDE_DIRS "${CMAKE_CURRENT_SOURCE_DIR}/IGTFilters" "${CMAKE_CURRENT_SOURCE_DIR}/IGTTrackingDevices")
SET(MODULE_LIBRARIES mitkIGT)
SET(MODULE_NAME mitkIGT)
CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/moduleIncludeConf.cmake.in" "${PROJECT_BINARY_DIR}/${MODULE_NAME}Config.cmake" @ONLY)

INCLUDE_DIRECTORIES(${MITK_INCLUDE_DIRS})

INCLUDE(MITKIGTHardware.cmake)

INCLUDE_DIRECTORIES(${MODULE_INCLUDE_DIRS})
IF(MITK_USE_MICRON_TRACKER)
  INCLUDE_DIRECTORIES(${MITK_MICRON_TRACKER_INCLUDE_DIR})
ENDIF(MITK_USE_MICRON_TRACKER)
IF(MITK_USE_MICROBIRD_TRACKER)
  INCLUDE_DIRECTORIES(${MITK_USE_MICROBIRD_TRACKER_INCLUDE_DIR})
ENDIF(MITK_USE_MICROBIRD_TRACKER)

IF(MITK_BUILD_SHARED_CORE)
  CREATE_CORE_LIB(SHARED)
ELSE(MITK_BUILD_SHARED_CORE)
  CREATE_CORE_LIB()  
ENDIF(MITK_BUILD_SHARED_CORE)

TARGET_LINK_LIBRARIES(mitkIGT mitkCore tinyxml)

# Link MICRON TRACKER to IGT
IF(MITK_USE_MICRON_TRACKER)
  TARGET_LINK_LIBRARIES(mitkIGT ${MITK_MICRON_TRACKER_LIB})
ENDIF(MITK_USE_MICRON_TRACKER)

# Link Ascension MicroBird to IGT
IF(MITK_USE_MICROBIRD_TRACKER)
  TARGET_LINK_LIBRARIES(mitkIGT ${MITK_USE_MICROBIRD_TRACKER_LIB})
ENDIF(MITK_USE_MICROBIRD_TRACKER)

## create IGT config
CONFIGURE_FILE(mitkIGTConfig.h.in ${PROJECT_BINARY_DIR}/mitkIGTConfig.h @ONLY)

# add test programm for serial communication classADD_EXECUTABLE(SerialCommunicationTest IGTTrackingDevices/mitkSerialCommunicationTest.cpp)TARGET_LINK_LIBRARIES(SerialCommunicationTest mitkIGT mitkCore tinyxml PocoXML) 

ADD_EXECUTABLE (IGTTutorialStep1 IGTTutorial/IGTTutorialStep1.cpp)
TARGET_LINK_LIBRARIES(IGTTutorialStep1 mitkIGT mitkCore tinyxml PocoXML)

INSTALL(TARGETS mitkIGT
   RUNTIME DESTINATION bin
   LIBRARY DESTINATION lib
   ARCHIVE DESTINATION lib/static
)





