<?xml version='1.0' encoding='UTF-8'?>
  <Material name='FiberClipping2D'>
  <Shader 
    scope='Vertex' 
    name='VertexShader' 
    location='Inline' 
    language='GLSL' 
    entry='main'> 
  
  varying vec3 positionWorld;
  varying vec3 color;
    
  void main(void) 
  {
    color = gl_Color.rgb;
    positionWorld = vec3(gl_ModelViewMatrix * gl_Vertex);
    gl_Position = ftransform();
  }
  </Shader> 
  <Shader scope='Fragment' name='FragmentShader' location='Inline'
  language='GLSL' entry='main'>
  
  uniform vec4 plane1;
  uniform vec4 plane2;
  
  varying vec3 positionWorld;
  varying vec3 color;
  
  void main(void)
  {
     float r1 = dot(positionWorld, plane1.xyz) - plane1.w;
     float r2 = dot(positionWorld, plane2.xyz) - plane2.w;
     
      if (r1 &lt; 0.0 || r2 &lt; 0.0)
        discard;
        
     gl_FragColor = vec4(color, 1.0); 
  }
   
  <Uniform type="vec4" name="plane1" number_of_elements="4" > </Uniform>
  <Uniform type="vec4" name="plane2" number_of_elements="4" > </Uniform>
 
  </Shader>
</Material>
