# import the value of VARNAME from DIR to current CMakeLists.txt
# todo: check if variable exists
MACRO(IMPORT_VARIABLES IMPORTDIR)
GET_FILENAME_COMPONENT(ABSOLUTE_DIR ${IMPORTDIR} ABSOLUTE)
FOREACH(IMPORTVAR ${ARGN})
  GET_DIRECTORY_PROPERTY(${IMPORTVAR} 
    DIRECTORY ${ABSOLUTE_DIR}
    DEFINITION ${IMPORTVAR}
  )
ENDFOREACH(IMPORTVAR)
ENDMACRO(IMPORT_VARIABLES)

FOREACH(FUNC_NAME ${FUNCTIONALITY_NAMES})
MESSAGE(STATUS "Adding ${FUNC_NAME} to MainApp")
SET(FUNC_LIBRARIES ${FUNC_LIBRARIES} ${FUNC_NAME})
ENDFOREACH(FUNC_NAME)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
SET(MAIN_APP_CPP SampleApp.cpp SampleAppMain.cpp ${REGISTER_FUNC_CPP})
QT_WRAP_CPP(MainApp MAIN_APP_CPP SampleApp.h)

ADD_EXECUTABLE(MainApp ${MAIN_APP_CPP})
TARGET_LINK_LIBRARIES(MainApp ${FUNC_LIBRARIES}) 
